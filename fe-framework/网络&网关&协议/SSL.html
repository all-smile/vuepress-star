<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SSL | 前端知识</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/vuepress-star/logo.jpg">
    <meta name="description" content="风之积也不厚，则其负大翼也无力">
    
    <link rel="preload" href="/vuepress-star/assets/css/0.styles.c51e8d4d.css" as="style"><link rel="preload" href="/vuepress-star/assets/js/app.9ec09d8a.js" as="script"><link rel="preload" href="/vuepress-star/assets/js/2.fea80727.js" as="script"><link rel="preload" href="/vuepress-star/assets/js/34.e629123b.js" as="script"><link rel="preload" href="/vuepress-star/assets/js/7.f41a1aee.js" as="script"><link rel="prefetch" href="/vuepress-star/assets/js/10.0677eaa7.js"><link rel="prefetch" href="/vuepress-star/assets/js/11.4a0e8626.js"><link rel="prefetch" href="/vuepress-star/assets/js/12.a30bfe3f.js"><link rel="prefetch" href="/vuepress-star/assets/js/13.8f89614e.js"><link rel="prefetch" href="/vuepress-star/assets/js/14.b1f70602.js"><link rel="prefetch" href="/vuepress-star/assets/js/15.b885c78d.js"><link rel="prefetch" href="/vuepress-star/assets/js/16.8683ec2c.js"><link rel="prefetch" href="/vuepress-star/assets/js/17.44279241.js"><link rel="prefetch" href="/vuepress-star/assets/js/18.effe79bd.js"><link rel="prefetch" href="/vuepress-star/assets/js/19.9829260f.js"><link rel="prefetch" href="/vuepress-star/assets/js/20.96b60e91.js"><link rel="prefetch" href="/vuepress-star/assets/js/21.e54115a3.js"><link rel="prefetch" href="/vuepress-star/assets/js/22.c662f2c7.js"><link rel="prefetch" href="/vuepress-star/assets/js/23.bb188fa4.js"><link rel="prefetch" href="/vuepress-star/assets/js/24.e6dd1fc9.js"><link rel="prefetch" href="/vuepress-star/assets/js/25.766eb38f.js"><link rel="prefetch" href="/vuepress-star/assets/js/26.fce4f12f.js"><link rel="prefetch" href="/vuepress-star/assets/js/27.5bd1245a.js"><link rel="prefetch" href="/vuepress-star/assets/js/28.1617954f.js"><link rel="prefetch" href="/vuepress-star/assets/js/29.ba7c8de2.js"><link rel="prefetch" href="/vuepress-star/assets/js/3.cba199c5.js"><link rel="prefetch" href="/vuepress-star/assets/js/30.0eba80e9.js"><link rel="prefetch" href="/vuepress-star/assets/js/31.4f1d8a76.js"><link rel="prefetch" href="/vuepress-star/assets/js/32.5293588d.js"><link rel="prefetch" href="/vuepress-star/assets/js/33.73a1bdea.js"><link rel="prefetch" href="/vuepress-star/assets/js/35.b0676310.js"><link rel="prefetch" href="/vuepress-star/assets/js/36.41898e8c.js"><link rel="prefetch" href="/vuepress-star/assets/js/37.5c36cabe.js"><link rel="prefetch" href="/vuepress-star/assets/js/38.6d4f08eb.js"><link rel="prefetch" href="/vuepress-star/assets/js/39.1bd11ef6.js"><link rel="prefetch" href="/vuepress-star/assets/js/4.2fa42de4.js"><link rel="prefetch" href="/vuepress-star/assets/js/40.4fc49ba0.js"><link rel="prefetch" href="/vuepress-star/assets/js/41.6b813172.js"><link rel="prefetch" href="/vuepress-star/assets/js/42.140a70f7.js"><link rel="prefetch" href="/vuepress-star/assets/js/43.79db9fba.js"><link rel="prefetch" href="/vuepress-star/assets/js/44.149cb1ec.js"><link rel="prefetch" href="/vuepress-star/assets/js/45.2af6b1c1.js"><link rel="prefetch" href="/vuepress-star/assets/js/46.0afaff27.js"><link rel="prefetch" href="/vuepress-star/assets/js/47.c1e675a6.js"><link rel="prefetch" href="/vuepress-star/assets/js/48.6b84d76d.js"><link rel="prefetch" href="/vuepress-star/assets/js/49.e66a7886.js"><link rel="prefetch" href="/vuepress-star/assets/js/5.2c953895.js"><link rel="prefetch" href="/vuepress-star/assets/js/50.befcf1f5.js"><link rel="prefetch" href="/vuepress-star/assets/js/51.b8e19760.js"><link rel="prefetch" href="/vuepress-star/assets/js/52.1ce3f603.js"><link rel="prefetch" href="/vuepress-star/assets/js/53.52a3b737.js"><link rel="prefetch" href="/vuepress-star/assets/js/54.1601b21d.js"><link rel="prefetch" href="/vuepress-star/assets/js/55.0c3f52ee.js"><link rel="prefetch" href="/vuepress-star/assets/js/56.97278c88.js"><link rel="prefetch" href="/vuepress-star/assets/js/57.ed6170d5.js"><link rel="prefetch" href="/vuepress-star/assets/js/58.88a1b201.js"><link rel="prefetch" href="/vuepress-star/assets/js/6.a1630b07.js"><link rel="prefetch" href="/vuepress-star/assets/js/8.3d22e042.js"><link rel="prefetch" href="/vuepress-star/assets/js/9.c1bd2f79.js">
    <link rel="stylesheet" href="/vuepress-star/assets/css/0.styles.c51e8d4d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuepress-star/" class="home-link router-link-active"><!----> <span class="site-name">前端知识</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="知识库" class="dropdown-title"><span class="title">知识库</span> <span class="arrow down"></span></button> <button type="button" aria-label="知识库" class="mobile-dropdown-title"><span class="title">知识库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-star/fe-skills/" class="nav-link">
  🥝偏前端开发实用技能
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-star/fe-framework/" class="nav-link router-link-active">
  🎈偏前端架构运维小火慢炖
</a></li></ul></div></div> <a href="https://github.com/all-smile/vuepress-star" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="知识库" class="dropdown-title"><span class="title">知识库</span> <span class="arrow down"></span></button> <button type="button" aria-label="知识库" class="mobile-dropdown-title"><span class="title">知识库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-star/fe-skills/" class="nav-link">
  🥝偏前端开发实用技能
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-star/fe-framework/" class="nav-link router-link-active">
  🎈偏前端架构运维小火慢炖
</a></li></ul></div></div> <a href="https://github.com/all-smile/vuepress-star" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>🍧架构能力</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>🍓可配置化架构</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>🍒团队建设</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>🥝Bridge桥技术应用研究</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>🎊网络&amp;网关&amp;协议</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress-star/fe-framework/网络&amp;网关&amp;协议/SSL.html" class="active sidebar-link">SSL</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress-star/fe-framework/网络&amp;网关&amp;协议/SSL.html#加密" class="sidebar-link">加密</a></li><li class="sidebar-sub-header"><a href="/vuepress-star/fe-framework/网络&amp;网关&amp;协议/SSL.html#ca-证书内一般会包含以下内容" class="sidebar-link">CA 证书内一般会包含以下内容</a></li><li class="sidebar-sub-header"><a href="/vuepress-star/fe-framework/网络&amp;网关&amp;协议/SSL.html#ssl-握手过程" class="sidebar-link">SSL 握手过程</a></li></ul></li><li><a href="/vuepress-star/fe-framework/网络&amp;网关&amp;协议/为什么微服务一定要有API网关.html" class="sidebar-link">为什么微服务一定要有API网关</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="ssl"><a href="#ssl" class="header-anchor">#</a> SSL</h1> <h2 id="加密"><a href="#加密" class="header-anchor">#</a> 加密</h2> <ul><li><p>对称加密，比较有代表性的就是 AES 加密算法；</p></li> <li><p>非对称加密，经常使用到的 RSA 加密算法就是非对称加密的；</p></li></ul> <p>对称加密的意思就是说双方都有一个共同的密钥，然后通过这个密钥完成加密和解密，这种加密方式速度快，但是安全性不如非对称加密好。</p> <p><strong>举个例子</strong>，现在学霸小明这里有一道数学题的答案：123 。他想把答案传给自己一直暗恋的小红。所以他们双方在考试开考前，约定了一把密钥：456 。那么小明就把答案内容经过密钥加密，即 123 + 456 = 579 ，将 579 写在小纸条上扔给小红。如果此时别人捡到了小纸条，不知道他们是加密传输的，看到上面的 579 ，会误以为答案就是 579 ；如果是小红捡到了，她拿出密钥解密，579 - 456 = 123 ，得到了正确的答案。</p> <p>这就是所谓的<strong>对称加密</strong>，加解密效率高，速度快，但是双方任何一方不小心泄露了密钥，那么任何人都可以知道传输内容了。</p> <p><strong>非对称加密</strong>就是有两把密钥，公钥和私钥。私钥自己藏着，不告诉任何人；而公钥可以公开给别人。</p> <p>经过了上次作弊后，小红发现了对称加密如果密钥泄露是一件可怕的事情。所以她和小明决定使用非对称加密。小红生成了一对公钥和私钥，然后把公钥公开，小明就得到了公钥。小明拿到公钥后，把答案经过公钥加密，然后传输给小红，小红再利用自己的私钥进行解密，得到答案结果。如果在这个过程中，其他人得到传输的内容，而他们只有小红公钥，是没有办法进行解密的，所以也就得不到答案，只有小红一个人可以解密。</p> <p><strong>非对称加密有两个秘钥，一个是公钥，一个是私钥</strong>。公钥加密的内容只有私钥可以解密，私钥加密的内容只有公钥可以解密。一般我们把服务器自己留着，不对外公布的密钥称为私钥，所有人都可以获取的称为公钥。</p> <p>非对称加密的特性决定了服务器用私钥加密的内容并不是真正的加密，因为公钥所有人都有，所以服务器的密文能被所有人解析。但私钥只掌握在服务器手上，这就带来了两个巨大的优势:</p> <p>服务器下发的内容不可能被伪造，因为别人都没有私钥，所以无法加密。强行加密的后果是客户端用公钥无法解开。<br>
任何人用公钥加密的内容都是绝对安全的，因为私钥只有服务器有，也就是只有真正的服务器可以看到被加密的原文。<br>
所以当引入非对称加密后，HTTPS 的握手流程依然是两步，不过细节略有变化:</p> <ul><li><p>客户端: 你好，我需要发起一个 HTTPS 请求，这是我的 (用公钥加密后的) 秘钥。</p></li> <li><p>服务器: 好的，我知道你的秘钥了，后续就用它传输。</p></li></ul> <p>现在 HTTPS 协议的握手阶段变成了四步:</p> <ul><li><p>客户端: 你好，我要发起一个 HTTPS 请求，请给我公钥</p></li> <li><p>服务器: 好的，这是我的证书，里面有加密后的公钥</p></li> <li><p>客户端: 解密成功以后告诉服务器: 这是我的 (用公钥加密后的) 对称秘钥。</p></li> <li><p>服务器: 好的，我知道你的秘钥了，后续就用它传输。</p></li></ul> <p>因此，相比较对称加密而言，非对称加密安全性更高，但是加解密耗费的时间更长，速度慢。</p> <h2 id="ca-证书内一般会包含以下内容"><a href="#ca-证书内一般会包含以下内容" class="header-anchor">#</a> CA 证书内一般会包含以下内容</h2> <ol><li>证书的颁发机构、版本</li> <li>证书的使用者</li> <li>证书的公钥</li> <li>证书的有效时间</li> <li>证书的数字签名 Hash 值和签名 Hash 算法</li> <li>...</li></ol> <h2 id="ssl-握手过程"><a href="#ssl-握手过程" class="header-anchor">#</a> SSL 握手过程</h2> <p>简单地来讲:</p> <ol><li>客户端和服务端建立 SSL 握手，客户端通过 CA 证书来确认服务端的身份；</li> <li>互相传递三个随机数，之后通过这随机数来生成一个密钥；</li> <li>互相确认密钥，然后握手结束；</li> <li>数据通讯开始，都使用同一个对话密钥来加解密；</li></ol></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/all-smile/vuepress-star/edit/master/docs/fe-framework/网络&amp;网关&amp;协议/SSL.md" target="_blank" rel="noopener noreferrer">本文源码地址</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">3/21/2024, 8:00:46 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/vuepress-star/fe-framework/Bridge桥技术应用研究/uni-app 小程序开发.html" class="prev">
        uni-app 小程序开发
      </a></span> <span class="next"><a href="/vuepress-star/fe-framework/网络&amp;网关&amp;协议/为什么微服务一定要有API网关.html">
        为什么微服务一定要有API网关
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/vuepress-star/assets/js/app.9ec09d8a.js" defer></script><script src="/vuepress-star/assets/js/2.fea80727.js" defer></script><script src="/vuepress-star/assets/js/34.e629123b.js" defer></script><script src="/vuepress-star/assets/js/7.f41a1aee.js" defer></script>
  </body>
</html>
